# ===================================
# BLOCKSCOPE - PRODUCTION ENVIRONMENT
# ===================================
# SECURITY WARNING: Never commit this file!
# Replace all CHANGE_ME values before deploying

APP_NAME=BlockScope
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=False  # NEVER set to True in production
LOG_LEVEL=WARNING

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=8  # Adjust based on CPU cores
RELOAD=False  # Never auto-reload in production

# Database (Production)
# CHANGE_ME: Use strong password and secure host
DATABASE_URL=postgresql://blockscope_prod:CHANGE_ME_STRONG_DB_PASSWORD@db.production.com:5432/blockscope_prod
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=False  # Never log SQL in production

# Redis (Production)
# CHANGE_ME: Use strong password
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis.production.com:6379/0
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_MAX_CONNECTIONS=50

# Security (Production)
# CRITICAL: Generate new secure keys!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE_ME_GENERATE_SECURE_64_CHAR_SECRET_KEY
JWT_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_64_CHAR_JWT_KEY
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60  # 1 hour
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# API Key
API_KEY_HEADER_NAME=X-API-Key
API_KEY_LENGTH=32
API_KEY_PREFIX=bsc_prod_

# CORS (Restrictive in production)
# CHANGE_ME: Add only your production domains
CORS_ORIGINS=https://blockscope.io,https://www.blockscope.io,https://app.blockscope.io
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-API-Key

# Rate Limiting (Strict in production)
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=20
RATE_LIMIT_PER_HOUR=100
RATE_LIMIT_PER_DAY=1000

# API Key tier limits
API_KEY_RATE_LIMIT_PER_MINUTE=60
API_KEY_RATE_LIMIT_PER_HOUR=500
API_KEY_RATE_LIMIT_PER_DAY=5000

# File Upload
MAX_UPLOAD_SIZE=5242880  # 5MB
ALLOWED_EXTENSIONS=.sol
UPLOAD_FOLDER=/var/blockscope/uploads

# Slither
SLITHER_TIMEOUT=300
SLITHER_MAX_CONCURRENT=3
SLITHER_PATH=/usr/local/bin/slither
SOLC_VERSION=0.8.20

# Caching
CACHE_SCAN_RESULTS=True
CACHE_TTL=86400  # 24 hours
CACHE_PREFIX=prod:scan:

# Email (Production)
SMTP_ENABLED=True
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=CHANGE_ME_SENDGRID_API_KEY
SMTP_FROM_EMAIL=noreply@blockscope.io
SMTP_FROM_NAME=BlockScope
SMTP_TLS=True

# Monitoring (Production)
# CHANGE_ME: Add your Sentry DSN
SENTRY_DSN=https://CHANGE_ME@sentry.io/PROJECT_ID
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# Logging
LOG_FILE_ENABLED=True
LOG_FILE_PATH=/var/log/blockscope/app.log
LOG_FILE_MAX_BYTES=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=10
LOG_JSON_FORMAT=True  # Structured logging for production
LOG_REQUESTS=True
LOG_RESPONSES=False  # Don't log response bodies
LOG_REQUEST_BODY=False  # Security: Never log request bodies in production

# Performance
GZIP_MINIMUM_SIZE=1000
GZIP_COMPRESSION_LEVEL=6
DB_STATEMENT_TIMEOUT=30000

# Celery (Production)
CELERY_BROKER_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis.production.com:6379/1
CELERY_RESULT_BACKEND=redis://:CHANGE_ME_REDIS_PASSWORD@redis.production.com:6379/2
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=600
CELERY_TASK_SOFT_TIME_LIMIT=540

# Feature Flags (Production)
ENABLE_REGISTRATION=True
ENABLE_SOCIAL_LOGIN=False
ENABLE_EMAIL_VERIFICATION=True
ENABLE_TWO_FACTOR_AUTH=False
ENABLE_API_DOCS=False  # Disable public API docs in production
ENABLE_METRICS=True

# Admin (CHANGE_ME immediately after deployment!)
ADMIN_EMAIL=admin@blockscope.io
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_ON_FIRST_LOGIN

# External Services (Production)
# CHANGE_ME: Add your API keys
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
MIXPANEL_TOKEN=CHANGE_ME

# Development Tools (Disabled in production)
AUTO_RELOAD=False
ENABLE_PROFILER=False

# Testing (Never in production)
TESTING=False
